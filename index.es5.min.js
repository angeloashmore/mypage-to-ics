"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function app(){var e=$("#pane1 > table:nth-child(2) > tbody > tr:first > td:nth-child(2)"),t=e.find("table:first > tbody > tr:nth-child(2) > td:first"),i=e.find("table:nth-child(2) > tbody > tr:not(.disable)"),n=t.text().slice(15).trim(),s=new ICS;i.each(function(){var e=$(this).children("td.day:first").text().trim(),t=$(this).children("td.time:first").text().trim(),i=$(this).children("td.time:nth-child(5)").text().trim(),r=new Shift(n,e,t,i),a=new ICSEvent;a.subject="You work at "+t,a.description="",a.location="Apple Store, Ala Moana",a.start=r.start,a.end=r.end,s.events.push(a)}),s.toBase64(function(e){return window.location=e})}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),DaysOfWeek={Saturday:0,Sunday:1,Monday:2,Tuesday:3,Wednesday:4,Thursday:5,Friday:6},Meridiem={AM:"AM",PM:"PM"},Shift=function e(t,i,n,s){_classCallCheck(this,e);var r=new Date(t);r.setDate(r.getDate()+DaysOfWeek[i]);var a=new Date(r),c=new Time(n);a.setTime(a.getTime()+c.millisecondsElapsed()),this.start=a;var d=new Date(r),l=new Time(s);d.setTime(d.getTime()+l.millisecondsElapsed()),c.meridiem==Meridiem.PM&&l.meridiem==Meridiem.AM&&d.setTime(d.getTime()+864e5),this.end=d},Time=function(){function e(t){_classCallCheck(this,e);var i=t.slice(0,-2).split(":"),n=t.slice(-2).toUpperCase();this.hour=parseInt(i[0])+(n==Meridiem.PM?12:0),this.minutes=parseInt(i[1]),this.seconds=parseInt(i[2]||0)}return _createClass(e,[{key:"meridiem",value:function(){return this.hour<12?Meridiem.AM:Meridiem.PM}},{key:"secondsElapsed",value:function(){return 60*this.hour*60+60*this.minutes+this.seconds}},{key:"millisecondsElapsed",value:function(){return 1e3*this.secondsElapsed()}}]),e}(),icsJSURL="https://rawgit.com/angeloashmore/ics-js/master/ics.es5.min.js";$.getScript(icsJSURL,function(){return app()});